<mat-card class="mat-elevation-z g-card">
    <mat-card-content>
      <div class="row mb-2">
        <div class="col">
          <app-icon-heading-component [heading]="tableHeading" icon="playlist_add_check_circle" [automationId]="'order-selection-list-heading'">
          </app-icon-heading-component>
        </div>
      </div>
      <div class="row px-3">
        <button mat-stroked-button color="primary"
        [matTooltip]="view == 'batch' ? '':'Press to append the orders to the Queue. (Maximum for Carousel is set in  Preferences.)'"      
        [disabled]="view == 'batch'" class="button-add-all mb-3 float-end count-primary-button" (click)="appendAll()" data-automation-id="order-selection-list-append-all-button">
          Append All
        </button>
      </div>
      <div class="card br-14 table-responsive borderless" data-automation-id="order-selection-list-table-container">
        <ng-scrollbar class="mat-table-scrollbar scrollbar-hover-padding count-table-scrollbar" track="all" data-automation-id="order-selection-list-table-scrollbar">
          <table mat-table [dataSource]="datasource" class="custom-table table-fix" matSort
            (matSortChange)="announceSortChange($event)" data-automation-id="order-selection-list-table">
  
            <ng-container matColumnDef="batchId">
              <th mat-header-cell mat-sort-header *matHeaderCellDef data-automation-id="table-header-Batch ID"> Batch ID</th>
              <td mat-cell *matCellDef="let element; let i = index" [attr.data-automation-id]="'table-data-Batch ID-' + (element.batchId ? element.batchId : ' ')">{{element.batchId}} </td>
            </ng-container>
  
            <ng-container matColumnDef="toteId">
              <th mat-header-cell mat-sort-header *matHeaderCellDef data-automation-id="table-header-Tote ID"> Tote ID</th>
              <td mat-cell *matCellDef="let element; let i = index" [attr.data-automation-id]="'table-data-Tote ID-' + (element.toteId ? element.toteId : ' ')">{{element.toteId}} </td>
            </ng-container>
  
            <ng-container matColumnDef="orderNumber">
              <th mat-header-cell mat-sort-header *matHeaderCellDef data-automation-id="table-header-Order Number"> Order Number</th>
              <td mat-cell *matCellDef="let element; let i = index" [attr.data-automation-id]="'table-data-Order Number-' + (element.orderNumber ? element.orderNumber : ' ')">{{element.orderNumber}} </td>
            </ng-container>
  
            <ng-container matColumnDef="lineCount">
              <th mat-header-cell mat-sort-header *matHeaderCellDef data-automation-id="table-header-Lines"> Lines </th>
              <td mat-cell *matCellDef="let element; let i = index" [attr.data-automation-id]="'table-data-Lines-' + (element.lineCount !== null && element.lineCount !== undefined ? element.lineCount : ' ')"> {{element.lineCount}} </td>
            </ng-container>
  
            <ng-container matColumnDef="priority">
              <th mat-header-cell mat-sort-header *matHeaderCellDef data-automation-id="table-header-Priority"> Priority</th>
              <td mat-cell *matCellDef="let element; let i = index" [attr.data-automation-id]="'table-data-Priority-' + (element.priority ? element.priority : ' ')" matTooltip="Display order priority.">{{element.priority}} </td>
            </ng-container>
  
            <ng-container matColumnDef="requiredDate">
              <th mat-header-cell mat-sort-header *matHeaderCellDef data-automation-id="table-header-Required Date"> Required Date </th>
              <td mat-cell *matCellDef="let element; let i = index" [attr.data-automation-id]="'table-data-Required Date-' + (element.requiredDate ? element.requiredDate : ' ')"> {{element.requiredDate | date :'MM/dd/yyyy'}} </td>
            </ng-container>

            <ng-container matColumnDef="details">
              <th mat-header-cell mat-sort-header *matHeaderCellDef data-automation-id="table-header-Details"> Details </th>
              <td mat-cell *matCellDef="let element; let i = index" [attr.data-automation-id]="'table-data-Details-' + (element.batchId ? element.batchId : ' ')">
                <div (click)="viewDetails(element)" class="__pointer_cursor custom-add-button-color br-14" [attr.data-automation-id]="'view-details-button-' + i">
                  View
                </div>
              </td>
            </ng-container>
  
            <ng-container matColumnDef="actions" stickyEnd>
              <th width="10%" class="text-center px-2" mat-header-cell *matHeaderCellDef data-automation-id="table-header-Actions">Action</th>
              <td class="pe-0" mat-cell *matCellDef="let element; let i = index" width="10%" [attr.data-automation-id]="'table-data-Actions-' + i">
                <button class="mx-auto xsm-icon-button" mat-flat-button aria-label="Delete"  [disabled]="batchSeleted"
                  matTooltipPosition="right" color="primary" matTooltip='Press to copy the order to the Queue' [attr.data-automation-id]="'add-order-button-'+ i">
                  <mat-icon (click)="selectOrder(element)">add</mat-icon>
                </button>
              </td>
            </ng-container>
  
            <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky:true" data-automation-id="order-selection-list-table-header-row"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;" [attr.data-automation-id]="'order-selection-list-table-row-' + (row.batchId ? row.batchId : ' ')"></tr>
          </table>
        </ng-scrollbar>
      </div>
      <div class="table-pagination d-flex justify-content-start" data-automation-id="order-selection-list-paginator">
        <mat-paginator [pageSize]="10" #paginator1 [length]="datasource.filteredData.length"
          [pageSizeOptions]="[10, 20, 100]" showFirstLastButtons [pageSizeOptions]="[10, 20, 100]" data-automation-id="table-paginator"></mat-paginator>
      </div>
    </mat-card-content>
  </mat-card>