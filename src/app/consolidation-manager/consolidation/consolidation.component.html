<mat-card class="mat-elevation-z g-card mb-3 mt-2" style="height: 100%;">
    <mat-card-content>
        <div class="d-xl-flex d-block justify-content-between">
            
            <app-icon-heading-component class="card-header-title mb-3 d-flex align-items-center" heading="Order" icon="filter_frames"></app-icon-heading-component>

            <div>
                <mat-form-field class="action-dropdown w-100 mb-3" appearance="outline">
                    <mat-label>Actions</mat-label>
                    <mat-select #matRef class="employees-action" placeholder="Actions" (selectionChange)="openAction()">
                        <mat-option value="0" [disabled]="stagingBtn" (click)="!stagingBtn && this.stageTable.data.length > 0 ? openCmOrderNumber() : ''"> Staging Location</mat-option>
                        <mat-option value="1" [disabled]="packingBtn" (click)="!packingBtn ? openPacking() : ''">Packing</mat-option>
                        <mat-option value="2" [disabled]="shippingBtn" (click)="!shippingBtn ? openCmShipping() : ''">Shipping</mat-option>
                        <mat-option value="3" (click)="navigateToOrder()">Order Status</mat-option>
                        <mat-option value="4" [disabled]="printButtons" (click)="printPreviewPackList()">Print Packaging List</mat-option>
                        <mat-option value="5" [disabled]="printButtons" (click)="printPreviewPackList(false)">Preview Packaging List</mat-option>
                        <mat-option value="6" [disabled]="printButtons" (click)="printPreviewNonVerified()">Print Not Verified List</mat-option>
                        <mat-option value="7" [disabled]="printButtons" (click)="printPreviewNonVerified(false)">Preview Not Verified List</mat-option>
                    </mat-select>
                    <span class="material-symbols-outlined icon-expand-more">
                        expand_more
                    </span>
                </mat-form-field>
            </div>
        </div>
        <div class="row">
            <div class="col-xl-9">
                <div class="d-xl-flex d-block align-items-center gap-12">
                    <div class="d-flex flex-wrap">
                        <mat-form-field class="custom-form-field w-100 mb-3" appearance="outline">
                            <mat-label class="pe-2">Order Number/Tote ID</mat-label>
                            <input matInput class="" type="text" maxlength="50" [(ngModel)]="typeValue" (keypress)="enterOrderID($event)" #autoFocusField>
                            <button matSuffix *ngIf="typeValue" class="clear-btn"  (click)="openCmOrderNo()"><mat-icon class="text-20 text-chrome-600">cancel</mat-icon></button>
                        </mat-form-field>
                    </div>
                    <div class="d-flex flex-wrap">
                        <button type="button" [disabled]="nextOrderbtn" mat-flat-button color="primary" class="mb-3 btn-regular w-100" (click)="openCmOrderNo()">Next Order</button>
                    </div>
                </div>
            </div>
            <div class="col-xl-3 d-xl-flex d-block align-items-end justify-content-end">
                <div class="mx-auto mx-xl-0">
                <button type="button" mat-flat-button color="secondary" class="secondary-btn btn-regular mb-3 px-0 w-100"
                    style="color:var(--clr-primary-500);" (click)="clickToHide()"> {{ firstTable == true ? 'Hide Order Detail' : 'Show Order Detail' }}</button>
                </div>
            </div>
        </div>

        <div class="row d-flex justify-content-between align-items-top" *ngIf="hideRow">
            <div class="col-lg-2">
                <div class="">
                    <app-info-card-component value="{{open}}" title="Open Lines" colorClass="label-yellow"></app-info-card-component>
                    <app-info-card-component value="{{completed}}" title="Completed Lines" colorClass="label-green"></app-info-card-component>
                    <app-info-card-component value="{{backOrder}}" title="Backorder Lines" colorClass="label-red"></app-info-card-component>
                </div>
            </div>

            <div class="col-lg-10">
                <div class="card br-14 borderless px-0" style="overflow-x: auto;">
                    <ng-scrollbar track="all" class="mat-table-scrollbar" style="height: 260px">
                        <table class="w-100 table-borderless" mat-table #stageSort="matSort" matSort [dataSource]="stageTable" (matSortChange)="announceSortChangeStage($event)">
                            <ng-container matColumnDef="toteID">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header> Tote ID </th>
                                <td mat-cell *matCellDef="let element">{{element.toteID}}</td>
                            </ng-container>

                            <ng-container matColumnDef="complete">
                                <th class="" mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
                                <td mat-cell *matCellDef="let element" class="">
                                    <div class="label label-green px-2">{{element.complete}}</div>
                                </td>
                            </ng-container>

                            <ng-container matColumnDef="stagingLocation">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header> Staging Location </th>
                                <td mat-cell *matCellDef="let element">{{element.stagingLocation}}</td>
                            </ng-container>

                            <ng-container matColumnDef="stagedBy">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header> Staged By </th>
                                <td mat-cell *matCellDef="let element">{{element.stagedBy}}</td>
                            </ng-container>

                            <ng-container matColumnDef="stagedDate">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header> Staged Date </th>
                                <td mat-cell *matCellDef="let element">{{element.stagedDate}}</td>
                            </ng-container>

                            <tr class="mat-row" *matNoDataRow>
                                <td class="mat-cell" [attr.colspan]="stageColumns.length">No data available in table.</td>
                            </tr>

                           
                            
                            <tr mat-header-row *matHeaderRowDef="stageColumns; sticky: true" style=" background-color: var(--clr-table-header);"></tr>
                            <tr mat-row *matRowDef="let row; columns: stageColumns;"></tr>
                        </table>
                    </ng-scrollbar>
                </div>
                <div class="d-flex justify-content-between bg-white">
                    <mat-paginator #stagePaginator showFirstLastButtons [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons> </mat-paginator>
                </div>
            </div>
        </div>
    </mat-card-content>
</mat-card>


<div class="row">
    <div class="col-lg-6">
        <app-unverified-item
            [startSelectFilterLabel]="startSelectFilterLabel"
            [startSelectFilter]="startSelectFilter"
            [filterOption]="filterOption" 
            [filterValue]="filterValue" 
            [unverifiedItems]="unverifiedItems" 
            [isItemVisible]="isItemVisible" 
            [isSupplyVisible]="isSupplyVisible" 
            [verifyBtn]="verifyBtn"  
            [searchAutoCompleteItemNum]="searchAutoCompleteItemNum" 
            [unverifiedItemsColumns]="unverifiedItemsColumns"  
            (selected)="getSelected($event)" 
            (filterVal)="getFilterValue($event)" 
            (verify)="verifyLine($event)"  
            (verifyAllEmit)="verifyAll()" 
            (autoComplete)="autoCompleteSearchColumnItem($event)" 
            (row)="getRow($event)">
        </app-unverified-item>
    </div>

    <div class="col-lg-6">
        <app-verified-item
            [verifiedItemsColumns]="verifiedItemsColumns"  
            [verifiedItems]="verifiedItems"  
            [unverifyBtn]="unverifyBtn"
            (unverifyAllEmit)="unverifyAll()"
            (unverify)="unverifyLine($event)">
        </app-verified-item>
    </div>
</div>