<mat-card class="mat-elevation-z g-card mt-3 mb-4" data-automation-id="ppa-ts-batch-setup-card">
    <mat-card-content>
        <div class="d-flex justify-content-between align-items-center mb-3" data-automation-id="ppa-ts-batch-setup-header">
            <app-icon-heading-component heading="Batch Setup" icon="ballot" data-automation-id="batch-setup-title"></app-icon-heading-component>
        </div>
        <div class="row" data-automation-id="ppa-ts-batch-setup-form-row">
            <div class="col-xl-6" data-automation-id="batch-id-section">
                <div class="card p-3 mb-3 mb-xl-0" data-automation-id="batch-id-card">
                    <div class="d-block d-xl-flex gap-12" data-automation-id="batch-id-form-row">
                        <mat-form-field class="custom-form-field w-100 mb-3" appearance="outline"
                            [floatLabel]="getFloatLabelValueItem()"
                            [hideRequiredMarker]="hideRequiredControlItem.value"
                            data-automation-id="batch-id-field">
                            <mat-label data-automation-id="batch-id-label">Batch ID</mat-label>

                            <input 
                                #batchFocus 
                                (keydown.shift.enter)="$event.preventDefault()" 
                                matInput 
                                type="text"
                                [(ngModel)]="batchId" 
                                [matAutocomplete]="item"
                                (ngModelChange)="this.searchByItem.next($event)"
                                (keyup)="callFun('batchIdKeyup',undefined)"
                                [attr.data-automation-id]="'batch-id-input-' + batchId">
                            <button matSuffix *ngIf="batchId" class="clear-btn"
                                (click)="callFun('clear',undefined)" data-automation-id="clear-batch-id-button"><mat-icon
                                    class="text-20 text-chrome-600" data-automation-id="clear-batch-id-icon">cancel</mat-icon></button>

                            <mat-autocomplete class="card custom-scroll" #item="matAutocomplete" data-automation-id="batch-id-autocomplete">
                                <h6 class="card-header matAutoCompHeader" data-automation-id="batch-id-autocomplete-header">
                                    <span class="batchIDFont-style" data-automation-id="batch-id-autocomplete-label">Batch ID</span>
                                    <span class="zoneLabelfont-style" data-automation-id="zone-label-autocomplete-label">Zone Label</span>
                                </h6>
                                <ng-scrollbar class="matScrollbar-style" data-automation-id="batch-id-autocomplete-scrollbar">
                                    <mat-option *ngFor="let option of searchAutocompleteItemNum; let i = index"
                                        [value]="option.batchID" class="matAutoCompTableContent matAutoCTableContent-styling" [attr.data-automation-id]="'batch-id-option-' + i + '-' + option.batchID">
                                        <div class="loc_option" (click)="callFun('getRow',option.batchID)" [attr.data-automation-id]="'batch-id-option-content-' + i">
                                            <span class="searchColumn batchIDFont-style">{{option.batchID}}</span>
                                            <span class="searchColumn zoneLabelfont-style" [attr.data-automation-id]="'zone-label-option-text-' + i">{{option.zoneLabel}}</span>
                                        </div>
                                    </mat-option>
                                </ng-scrollbar>
                            </mat-autocomplete>
                        </mat-form-field>

                        <mat-form-field class="custom-form-field w-100 mb-3" appearance="outline" data-automation-id="status-field">
                            <mat-label data-automation-id="status-label">Status</mat-label>
                            <input (keydown.shift.enter)="$event.preventDefault()" matInput type="text"
                                [(ngModel)]="status" disabled data-automation-id="status-input">
                        </mat-form-field>
                    </div>
                    <div class="d-block d-xl-flex gap-12" data-automation-id="batch-actions-section">
                        <button mat-flat-button color="primary" class="primary-button btn-regular w-100 mb-3 mb-xl-0"
                            (click)="callFun('createNewBatch','1')" data-automation-id="new-batch-with-id-button">
                            New Batch with ID
                        </button>
                        <button mat-flat-button color="primary" class="primary-button btn-regular w-100"
                            (click)="callFun('createNewBatch','')" data-automation-id="new-batch-button">
                            New Batch
                        </button>
                    </div>
                </div>
            </div>
            <div class="col-xl-6" data-automation-id="zones-section">
                <div class="card p-3" data-automation-id="zones-card">
                    <div class="d-block d-xl-flex gap-12" data-automation-id="zones-form-row">
                        <mat-form-field class="custom-form-field w-100 mb-3" appearance="outline" data-automation-id="assigned-zones-field">
                            <mat-label data-automation-id="assigned-zones-label">Assigned Zones</mat-label>
                            <input (keydown.shift.enter)="$event.preventDefault()" matInput type="text"
                                [(ngModel)]="assignedZones" disabled data-automation-id="assigned-zones-input">
                        </mat-form-field>
                        <mat-form-field class="custom-form-field w-100 mb-3" appearance="outline" data-automation-id="default-cells-field">
                            <mat-label data-automation-id="default-cells-label">Default Cells</mat-label>
                            <input (keydown.shift.enter)="$event.preventDefault()" matInput type="text"
                                [(ngModel)]="cellSize" disabled data-automation-id="default-cells-input">
                        </mat-form-field>
                    </div>
                    <div class="d-block d-xl-flex gap-12" data-automation-id="zones-actions-section">
                        <button mat-flat-button color="primary" class="primary-button btn-regular w-100 mb-3 mb-xl-0"
                            (click)="callFun('openSelectZonesDialogue',undefined)" data-automation-id="select-zones-button">
                            Select Zones
                        </button>
                        <button mat-flat-button color="primary" class="primary-button btn-regular w-100"
                            (click)="callFun('setToDefaultQuantity',undefined)" data-automation-id="set-to-default-cell-quantity-button">
                            Set To Default Cell Quantity
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </mat-card-content>
</mat-card>