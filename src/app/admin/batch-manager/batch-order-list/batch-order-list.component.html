<mat-card class="mat-elevation-z g-card h-100">
  <mat-card-content>
    <div class="d-flex justify-content-between align-items-center mb-3">
      <div>
        <app-icon-heading-component
          heading="Order Selection List"
          icon="playlist_add_check_circle"
          data-automation-id="heading-order-selection-list"
        >
        </app-icon-heading-component>
      </div>
    </div>
    <ng-container>
      <div class="mb-3 w-100">
        <mat-form-field
          class="custom-form-field w-100 pt-2"
          appearance="outline"
          data-automation-id="form-field-order-number-lookup"
        >
          <mat-label data-automation-id="label-order-number-lookup">Order Number Lookup</mat-label>
          <input
            matInput
            appInputSpacesPrevent
            type="text"
            [(ngModel)]="orderNumberLookup"
            (keyup)="orderNumberLookupFun($event)"
            data-automation-id="input-order-number-lookup"
          />
          <button
            matSuffix
            *ngIf="orderNumberLookup"
            class="clear-btn"
            (click)="orderNumberLookup = ''"
            data-automation-id="clear-button"
          >
            <mat-icon class="text-20 text-chrome-600">cancel</mat-icon>
          </button>
        </mat-form-field>
      </div>
      <div
        class="row"
        *ngIf="extraField != '' || extraField != 0; else autoBatch"
      >
        <div class="col-12 col-xl-6">
          <div class="mb-3 w-100">
            <button
              (click)="appendMax()"
              mat-button
              mat-stroked-button
              color="default-btn"
              class="button-add-all bg-white br-18 w-100 button-append-max"
              data-automation-id="append-next-orders-button"
            >
              Append Next {{ extraField }} Orders
            </button>
          </div>
        </div>
        <div class="col-12 col-xl-6">
          <div class="mb-3 w-100">
            <button
              (click)="addRemoveAllOrder()"
              mat-flat-button
              color="primary"
              class="br-18 w-100 form-button-submit"
              data-automation-id="selected-orders-in-auto-batch-zone-button"
            >
              Selected Orders in Auto Batch Zone
            </button>
          </div>
        </div>
      </div>
      <ng-template #autoBatch>
        <div class="d-flex justify-content-center bg-white">
          <div class="mb-3 w-100">
            <button
              (click)="addRemoveAllOrder()"
              mat-flat-button
              color="primary"
              class="br-18 w-100 form-button-submit"
              data-automation-id="selected-orders-in-auto-batch-zone-button"
            >
              Selected Orders in Auto Batch Zone
            </button>
          </div>
        </div>
      </ng-template>
    </ng-container>
    <div class="card table-responsive br-14 borderless">
      <ng-scrollbar
        class="mat-table-scrollbar scrollbar-hover-padding count-table-scrollbar"
        track="all"
      >
        <table
          mat-table
          [dataSource]="batchOrderDataTable"
          matSort
          class="w-100 table-fix"
        >
          <!-- Status Column -->
          <ng-container matColumnDef="status" sticky>
            <th
              mat-header-cell
              *matHeaderCellDef
              mat-sort-header
              sortActionDescription="Sort by status"
              data-automation-id="table-header-status"
            >
              Status
            </th>
            <td mat-cell *matCellDef="let element; let i = index" [attr.data-automation-id]="'table-data-status-' + i">
              <div class="d-flex align-items-center">
                <span
                  class="br-14 label px-3 f-16"
                  [style]="element.statusCss"
                  >{{ element.status }}</span
                >
              </div>
            </td>
          </ng-container>

          <!-- Position Column -->
          <ng-container matColumnDef="orderNumber">
            <th
              mat-header-cell
              *matHeaderCellDef
              mat-sort-header
              sortActionDescription="Sort by orderNumber"
              data-automation-id="table-header-order-number"
            >
              Order No.
            </th>
            <td mat-cell *matCellDef="let element; let i = index" [attr.data-automation-id]="'table-data-order-number-' + i">
              {{ element.orderNumber }}
            </td>
          </ng-container>

          <!-- Name Column -->
          <ng-container matColumnDef="countOfOrderNumber">
            <th
              mat-header-cell
              *matHeaderCellDef
              mat-sort-header
              sortActionDescription="Sort by countOfOrderNumber"
              data-automation-id="table-header-quantity"
            >
              Quantity
            </th>
            <td mat-cell *matCellDef="let element; let i = index" [attr.data-automation-id]="'table-data-quantity-' + i">
              {{ element.countOfOrderNumber }}
            </td>
          </ng-container>

          <!-- Weight Column -->
          <ng-container matColumnDef="minOfPriority">
            <th
              mat-header-cell
              *matHeaderCellDef
              mat-sort-header
              sortActionDescription="Sort by minOfPriority"
              data-automation-id="table-header-priority"
            >
              Priority
            </th>
            <td mat-cell *matCellDef="let element; let i = index" [attr.data-automation-id]="'table-data-priority-' + i">
              {{ element.minOfPriority }}
            </td>
          </ng-container>

          <!-- Symbol Column -->
          <ng-container matColumnDef="detail">
            <th
              mat-header-cell
              *matHeaderCellDef
              mat-sort-header
              sortActionDescription="Sort by detail"
              data-automation-id="table-header-details"
            >
              Details
            </th>
            <td mat-cell *matCellDef="let element; let i = index" [attr.data-automation-id]="'table-data-details-' + i">
              <div
                (click)="openView(element)"
                class="__pointer_cursor custom-add-button-color br-14"
                data-automation-id="view-details-button"
              >
                View
              </div>
            </td>
          </ng-container>

          <!-- Action Column -->
          <ng-container matColumnDef="action" stickyEnd>
            <th
              mat-header-cell
              *matHeaderCellDef
              width="10%"
              class="text-center"
              data-automation-id="table-header-actions"
            >
              Actions
            </th>
            <td mat-cell *matCellDef="let element; let i = index" width="10%" [attr.data-automation-id]="'table-data-actions-' + i">
              <div>
                <!-- <button mat-flat-button class="bg-white custom-add-button-color" (click)="addOrders(element)">
                <mat-icon>add_circle</mat-icon>
              </button> -->
                <button
                  class="mx-auto xsm-icon-button"
                  mat-flat-button
                  (click)="addOrders(element)"
                  color="primary"
                  data-automation-id="add-orders-button"
                >
                  <mat-icon>add</mat-icon>
                </button>
              </div>
            </td>
          </ng-container>

          <tr
            mat-header-row
            *matHeaderRowDef="displayedColumns; sticky: true"
          ></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

          <tr class="mat-row" *matNoDataRow>
            <td
              class="mat-cell notify-center-table"
              [attr.colspan]="displayedColumns.length"
            >
              No data available in table.
            </td>
          </tr>
        </table>
      </ng-scrollbar>
    </div>
    <div class="d-flex justify-content-between bg-white">
      <mat-paginator
        [pageSize]="10"
        showFirstLastButtons
        [pageSizeOptions]="[5, 10, 20]"
        data-automation-id="paginator"
      ></mat-paginator>
    </div>
  </mat-card-content>
</mat-card>
