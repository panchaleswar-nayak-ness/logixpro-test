<mat-tab-group dynamicHeight [(selectedIndex)]="selectedIndex" data-automation-id="employees-tab-group">
  <mat-tab label="Employees" data-automation-id="tab-employees">
    <div class="employees-tab g-tab">
      <div class="container-fluid p-0">
        <div class="row">

          <!-- left side for details -->
          <div class="col-xl-7 mb-3">
            <mat-card class="mat-elevation-z g-card mb-3 h-100">
              <mat-card-content>
                <app-employees-information [isLookUp]="isLookUp" [env]="env" [empData]="empData"
                  (backEmpActionEmit)="backEmpAction()"
                  (actionDialogEmit)="actionDialog($event.value, $event.empData, $event.event)"
                  (openDialogEmit)="openDialog()" (printEmpListEmit)="printEmpList()"
                  (updateIsLookUpEmit)="updateIsLookUp($event)">
                </app-employees-information>
              </mat-card-content>
            </mat-card>
          </div>

          <!-- Right side for actions -->
          <div class="col-xl-5 mb-3">
            <mat-card class="mat-elevation-z g-card h-100">
              <mat-card-content>
                <app-employees-settings [empAllZones]="empAllZones" [empData]="empData"
                  [demo1TabIndex]="demo1TabIndex" [bpSettingInp]="bpSettingInp" [isLookUp]="isLookUp"
                  [employeeFetchedZones]="employeeFetchedZones" [displayedColumns]="displayedColumns"
                  [zoneColumns]="zoneColumns" [bpSettingLocInp]="bpSettingLocInp"
                  [locationDataSource]="locationDataSource" [maxOrders]="maxOrders" [lookUpEvnt]="lookUpEvnt"
                  [isTabChanged]="isTabChanged" [pickUplevels]="pickUplevels" [grpData]="grpDataV" [env]="env"
                  [searchfuncAllowed]="searchfuncAllowed" [FuncationAllowedList]="FuncationAllowedList"
                  [funcationsColumns]="funcationsColumns" [grpAllFilter]="grpAllFilter"
                  [groupAllowedList]="groupAllowedList" [groupsColumns]="groupsColumns"
                  (applyFunctionAllowedFilterEmit)="applyFunctionAllowedFilter($event)"
                  (getFuncationAllowedListEmit)="getFuncationAllowedList()" data-automation-id="employees-settings-component">
                </app-employees-settings>
              </mat-card-content>
            </mat-card>
          </div>
        </div>
      </div>

    </div>
  </mat-tab>

  <!-- Groups Tab -->
  <mat-tab label="Groups" data-automation-id="tab-groups">
    <div class="groups-tab g-tab">
      <div class="container-fluid p-0">
        <div class="row">
          <!-- left side for details -->
          <div class="col-xl-5 mb-3">
            <mat-card class="mat-elevation-z g-card h-100">
              <mat-card-content>
                <app-groups-employees-group-management [isGroupLookUp]="isGroupLookUp" [env]="env" [grpData]="grpData"
                  [updateGrpTable]="updateGrpLookUp" [selectedIndex]="selectedIndex"
                  (backGroupActionEmit)="backGroupAction()"
                  (actionGroupDialogEmit)="actionGroupDialog($event.value, $event.grpData, $event.event)"
                  (openGroupDialogEmit)="openGroupDialog()" (printSelectedEmit)="printSelected()"
                  (printAllEmit)="printAll()" (updateGrpLookUpEmit)="updateGrpLookUp($event)" data-automation-id="groups-employees-group-management-component">
                </app-groups-employees-group-management>
              </mat-card-content>
            </mat-card>
          </div>

          <!-- Right side for actions -->
          <div class="col-xl-7 mb-3">
            <mat-card class="mat-elevation-z g-card h-100">
              <mat-card-content>
                <app-groups-assigned-functions-comp [isGroupLookUp]="isGroupLookUp"
                  [unassignedFunctions]="unassignedFunctions" [assignedFunctions]="assignedFunctions"
                  (saveAssignedFuncEmit)="saveAssignedFunc()" (addPermissionEmit)="addPermission($event)"
                  (removePermissionEmit)="removePermission($event)" data-automation-id="groups-assigned-functions-comp-component">
                </app-groups-assigned-functions-comp>
              </mat-card-content>
            </mat-card>
          </div>
        </div>
      </div>
    </div>
  </mat-tab>


  <mat-tab label="Button Access" *ngIf="env === 'SD'" data-automation-id="tab-button-access">
    <div class="groups-tab g-tab">
      <div class="container-fluid p-0">
        <div>

          <mat-card class="mat-elevation-z g-card mb-3 mt-2 h-100">
            <mat-card-content>
              <div class="d-flex align-items-center">
                <h2 class="card-header-title mb-3 me-4 d-flex align-items-center">
                  <div class="mat-icon-wrap me-1 me-lg-3">
                    <span class="material-symbols-outlined" data-automation-id="label-button-access-icon">
                      switch
                    </span>
                  </div>
                  <span data-automation-id="label-button-access">Button Access</span>
                </h2>
              </div>

              <div>

                <div class="card br-14 table-responsive borderless">
                  <ng-scrollbar class="mat-table-scrollbar scrollbar-height" track="all">

                    <table class="w-100 g-card-table table-borderless table-minimal-action-buttons" mat-table matSort
                      [dataSource]="ButtonAccessList" data-automation-id="button-access-table">
                      <ng-container matColumnDef="controlName">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header data-automation-id="label-control-name"> Control Name </th>
                        <td mat-cell *matCellDef="let element" [attr.data-automation-id]="'button-access-cell-controlname-' + element.controlName">{{element.controlName}}</td>
                      </ng-container>
                      <ng-container matColumnDef="function">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header data-automation-id="label-function"> Function </th>
                        <td mat-cell *matCellDef="let element" [attr.data-automation-id]="'button-access-cell-function-' + element.function">{{element.function}}</td>
                      </ng-container>
                      <ng-container matColumnDef="adminLevel">
                        <th width="10%" class="text-center" mat-header-cell *matHeaderCellDef mat-sort-header data-automation-id="label-admin-level"> Admin
                          Level </th>
                        <td width="10%" class="text-center" mat-cell *matCellDef="let element" [attr.data-automation-id]="'button-access-cell-adminlevel-' + element.controlName">
                          <mat-checkbox color="primary" [checked]="element.adminLevel" [(ngModel)]="element.adminLevel"
                            (ngModelChange)="ChangeAdminLevel(element)">
                          </mat-checkbox>
                        </td>
                      </ng-container>

                      <tr mat-header-row *matHeaderRowDef="displayedColumns_1" class="header-background">
                      </tr>
                      <tr mat-row *matRowDef="let row; columns: displayedColumns_1;" [attr.data-automation-id]="'button-access-row-' + row.controlName"></tr>
                    </table>
                  </ng-scrollbar>
                </div>

                <div class="d-flex justify-content-between bg-white">
                  <mat-paginator [pageSize]="10" #paginator1 [pageSizeOptions]="[10, 20, 100]" showFirstLastButtons
                    [pageSizeOptions]="[10, 20, 100]"></mat-paginator>
                </div>


              </div>

            </mat-card-content>
          </mat-card>

        </div>
      </div>
    </div>
  </mat-tab>
</mat-tab-group>