<mat-card class="mat-elevation-z g-card mb-3">
  <mat-card-content>
    <div class="row">
      <div class="d-xl-flex justify-content-between">
        <div class="d-xl-flex align-items-center">
          <h2
            class="card-header-title mb-0 me-4 d-flex align-items-center mb-3 mb-xl-0"
          >
            <div class="mat-icon-wrap me-1 me-lg-3">
              <span class="material-symbols-outlined">
                production_quantity_limits
              </span>
            </div>
            <span>Discrepancies</span>
          </h2>
          <mat-checkbox class="custom-checkbox mb-3 mb-xl-0" color="primary"
            >Print CC Disc Directly</mat-checkbox
          >
        </div>
        <mat-form-field class="action-dropdown d-block" appearance="outline">
          <mat-label>Actions</mat-label>
          <mat-select
            #matRef
            class="employees-action"
            (selectionChange)="onActionChange($event)"
          >
          <mat-option [value]="ActionType.CreateTransaction">Create Transactions</mat-option>
          <mat-option [value]="ActionType.AssignLocation">Location Assignment</mat-option>
          <mat-option [value]="ActionType.ImportBatches">Import Count Batches</mat-option>
          <mat-option [value]="ActionType.ImportDiscrepancies">Import Discrepancies</mat-option>
          <mat-option [value]="ActionType.SetMapping">Set import field mappings</mat-option>
          </mat-select>
          <span class="material-symbols-outlined icon-expand-more">
            expand_more
          </span>
        </mat-form-field>
      </div>
    </div>

    <div class="d-xl-flex justify-content-end align-items-center mb-2 mt-2">
      <div class="d-xl-flex gap-12">
       
        <button
          type="submit"
          mat-stroked-button
          class="mb-3 mb-xl-0 form-button-submit m-1 m-xl-0"
          color="primary"
          (click)="AppendAll()"
        >
          Append All
        </button>
      </div>
    </div>
   <div class="card br-14 table-responsive my-3"  *ngIf="hasValidColumns"
            >
            <ng-scrollbar class="mat-table-scrollbar scroll-bar min-max-height-table scroll-min-height" track="all" [autoHeightDisabled]="false">
        
       <table mat-table [dataSource]="dataSource.data" matSort
                     class="w-100 table-borderless bodertable"
                     (matSortChange)="announceSortChange($event)">

                <ng-container matColumnDef="{{col.colHeader}}" *ngFor="let col of displayedColumns; let indexOfelement=index;">
                  <th class="px-4" mat-header-cell *matHeaderCellDef mat-sort-header>
                    {{ col.colTitle }}
                  </th>
                 <td class="px-4" mat-cell *matCellDef="let element"
                 (contextmenu)="onContextMenu($event, element[col.colHeader], col.colDef)">
                <span *ngIf="col.colHeader === 'qtyDifference'" 
      [ngClass]="getQuantityDifferenceClasses(element.qtyDifference)">
  {{ formatQuantityDifference(element.qtyDifference) }}
</span>
                <span *ngIf="col.colHeader !== 'qtyDifference'">
                {{ element[col.colHeader] }}
                </span>
                </td>
                </ng-container>

                <ng-container matColumnDef="actions" stickyEnd>
                  <th class="actionContainer-Header" *matHeaderCellDef></th>
                  <td mat-cell *matCellDef="let seletedRecord" class="actionContainerdata">
                   <button (click)="AddInQueue(seletedRecord)"
                  mat-icon-button
                  aria-label="Add"
                  matTooltip="Add"
                  matTooltipPosition="above"
                >
                  <mat-icon class="icon-circle-edit">add</mat-icon>
                </button>
                  </td>
                </ng-container>

                <tr class="mat-row" *matNoDataRow (contextmenu)="onContextMenu($event, '')">
                  <td class="px-4" [attr.colspan]="columnValues.length">No data available in table.</td>
                </tr>

                <mat-header-row *matHeaderRowDef="columnValues; sticky: true" class="border"></mat-header-row>
                <mat-row *matRowDef="let row; columns: columnValues;" ></mat-row>
              </table>
      </ng-scrollbar>
    </div>
     <div class="table-pagination d-flex justify-content-start align-items-center" 
            >
            <mat-paginator [length]="this.customPagination.total" [pageSize]="10" showFirstLastButtons [pageSizeOptions]="[10, 20, 100]" (page)="handlePageEvent($event)"></mat-paginator>
          </div>
    
  </mat-card-content>
</mat-card>
