<div class="d-flex justify-content-center align-items-center" mat-dialog-title style="position: relative;">
    <button mat-button  *ngIf="(wizardIndex != 0)" style="position: absolute; left: 0;" (click)="wizardIndex=wizardIndex-1">Back</button>
    <h1 class="m-0" mat-dialog-title>New Workstation Setup</h1>
</div>




<div mat-dialog-content *ngIf="(wizardIndex == 0)">
    <div class="p-2 d-flex br-8 mb-3" style="background-color: #f0f4f8;" *ngIf="!(errorMessage && (wsName && wsName == invalidWorkstationName))">
        <mat-icon class="material-symbols-outlined" style="color: #1976d2;">info</mat-icon>
        <div class="ps-2 w-100">
            <span>This workstation does not appear to be in our system and will need to be configured before using this site.</span><br>
        </div>
        
    </div>

    <div class="p-2 d-flex br-8 mb-3" style="background-color: #e8eaf6;">
        <mat-icon class="material-symbols-outlined" style="color: #1976d2;">warning</mat-icon>
        <div class="ps-2 w-100">
            <span >Cookies must be allowed for this site to work correctly. If you are sure that this workstation has already been configured, you might need to double check that cookies are not being cleared after closing the browser.</span>
        </div>
        
    </div>
    <div class="d-flex gap-12 mb-1" mat-dialog-actions>
        <button mat-flat-button color="primary" class="btn-lg flex-grow-1"  (click)="wizardIndex=wizardIndex+1">
            Proceed
        </button>
       
    </div>
</div>

<div mat-dialog-content *ngIf="(wizardIndex == 1)">
    <div class="label-red p-2 d-flex br-8 mb-3" *ngIf="(errorMessage && (wsName && wsName == invalidWorkstationName))">
        <mat-icon class="material-symbols-outlined">notification_important</mat-icon>
        <span class="ps-2 w-100">{{errorMessage}}</span>
    </div>
    <div class="row">
        <div class="col-xl-12">
            <mat-form-field class="custom-form-field w-100 mb-3" appearance="outline">
                <mat-label>PC Name</mat-label>
                <input #locFocus [(ngModel)]="wsName" matInput type="text" (ngModelChange)="inputChange()">
            </mat-form-field>
        </div>
    </div>


    <div class="d-flex gap-12 mb-1" mat-dialog-actions>
        <button mat-flat-button color="primary" class="btn-lg flex-grow-1" [disabled]="!wsName" (click)="submit()">
            Submit
        </button>
    </div>

    <button mat-button class="w-100" style="text-align: center; font-size: smaller;" (click)="wizardIndex=2">
        Advanced Options
    </button>

    
</div>  

<div mat-dialog-content *ngIf="(wizardIndex == 2)">
    <!-- big fat warning -->
    <div class="p-2 d-flex br-8 mb-3" style="background-color: #e8eaf6;">
        <mat-icon class="material-symbols-outlined" style="color: #1976d2;">warning</mat-icon>
        <div class="ps-2 w-100">
            <span >WARNING: Selecting an existing workstation profile may result in unpredictable behavior and possible data corruption.</span>
        </div>
    </div>  

    <!-- drop down to select existing workstation -->
    <div class="row">
        <div class="col-xl-12">
            <mat-form-field class=" custom-form-field w-100" appearance="outline">
                <mat-label>Select Existing Workstation</mat-label>
                <mat-select [(ngModel)]="selectedWorkstation" >
                    <mat-option *ngFor="let ws of existingWorkstations" [value]="ws">
                        {{ws.pcName}}
                    </mat-option>
                </mat-select>
                <span class="material-symbols-outlined icon-expand-more">
                    expand_more
                </span>
            </mat-form-field>
            
        </div>
    </div>  

    <!-- we should also add a little checkbox/label to acknowledge the risks -->
    <div class="d-flex align-items-center mb-3" style="margin-top: 20px;">
        <mat-checkbox class="me-2" [(ngModel)]="acknowledgeRisks" color="primary"></mat-checkbox>
        <span style="line-height: normal;">I acknowledge the risks and wish to proceed with an existing workstation profile.</span>
    </div>
    

    <!--submit existing button-->
    <div class="d-flex gap-12 mb-1" mat-dialog-actions>
        <button mat-flat-button color="primary" class="btn-lg flex-grow-1" [disabled]="(!selectedWorkstation || !acknowledgeRisks)" (click)="submitExisting()">
            Submit
        </button>
    </div>
</div>




